html { scroll-behavior: smooth; }

:root{
    --bg:#0a0f1a;
    --slate-900:#0b1226;
    --slate-950:#070b14;
    --card:rgba(16,23,42,.45);
    --border:#1f2a44;
    --text:#e6e8ee;
    --muted:#98a3b8;
    --indigo:#6366f1;
    --indigo-500:#6366f1;
    --indigo-600:#4f46e5;
    --purple:#a78bfa;
    --shadow:0 18px 60px rgba(0,0,0,.45);
    --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;background:var(--slate-950);color:var(--text);font:14px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto}
  a{color:inherit;text-decoration:none}
  code,kbd,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
  .container{max-width:1120px;margin:0 auto;padding:0 16px}
  .muted{color:var(--muted)}
  .badge{display:inline-block;font-size:12px;color:#c7d2fe;background:rgba(99,102,241,.18);border:1px solid rgba(99,102,241,.3);padding:2px 8px;border-radius:999px}
  .divider{height:1px;background:var(--border);margin:16px 0}
  .hidden{display:none !important}

  /* Header */
  header{position:sticky;top:0;z-index:50;background:rgba(9,12,21,.75);backdrop-filter:saturate(1.1) blur(10px);border-bottom:1px solid var(--border)}
  .nav{height:64px;display:flex;align-items:center;justify-content:space-between}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,var(--indigo),var(--purple));display:flex;align-items:center;justify-content:center;font-weight:800}
  .navlinks{display:none;gap:6px}
  .navlinks a{padding:8px 12px;border-radius:10px}
  .navlinks a:hover{background:#121a2e}
  .actions{display:none;align-items:center;gap:8px}
  .search{width:260px;padding:9px 12px;border-radius:10px;border:1px solid var(--border);background:#0b1226;color:var(--text);outline:none}
  @media(min-width:900px){.navlinks,.actions{display:flex}}

  /* Buttons */
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border-radius:12px;padding:.6rem .9rem;border:1px solid var(--border);background:#111827;color:#e5e7eb;cursor:pointer;transition:.15s text-shadow ease}
  .btn:hover{background:#1b2440}
  .btn-primary{background:var(--indigo-600);border-color:var(--indigo-600);color:#fff}
  .btn-primary:hover{filter:brightness(1.05)}
  .btn-ghost{background:#0f172a;border-color:#263352}
  .btn-chip{background:#0f172a;border-color:#2a3550}
  .btn-xs{padding:.35rem .55rem;font-size:12px;border-radius:9px}

  .donation-row, .donate-row{
	  display: flex;
	  justify-content: center;  /* centers items horizontally */
	  align-items: center;       /* vertically aligns icons to the middle */

	  flex-wrap: wrap;           /* wrap on small screens */
	}

  @media (max-width: 860px){
	  .about-page .kudos,
	  .about-page .socials{
		justify-content: center;
		text-align: center;
	  }
	}
  

  /* Layout pieces */
  .hero{padding:64px 0 16px}
  .grid{display:grid;gap:16px}
  .grid-2{grid-template-columns:1fr}
  .grid-3{grid-template-columns:1fr}
  @media(min-width:860px){.grid-2{grid-template-columns:1.1fr .9fr} .grid-3{grid-template-columns:repeat(3,1fr)}}
  h1{font-size:34px;line-height:1.1;margin:0}
  .gradient{background:linear-gradient(90deg,#9aa8ff,#a88bff);-webkit-background-clip:text;background-clip:text;color:transparent}

  .card{background:var(--card);border:1px solid var(--border);border-radius:20px;box-shadow:var(--shadow)}
  .card-body{padding:18px}
  .code{background:#0b1226;border:1px solid var(--border);border-radius:14px;padding:12px;overflow:auto}
  pre{margin:0;white-space:pre-wrap}

  .section{padding:24px 0}
  .section-lg{padding:48px 0}

  footer{border-top:1px solid var(--border);padding:40px 0;color:var(--muted);margin-top:32px}

  /* Dialogs / Modals */
  .dialog{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:60}
  .dialog .backdrop{position:absolute;inset:0;background:rgba(2,6,23,.86);backdrop-filter:blur(4px)}
  .dialog .panel{position:relative;z-index:1;width:min(720px,92vw);background:#0b1226;border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:var(--shadow)}
  .dialog .title{font-weight:700;margin:0 0 .5rem}

  .list{border:1px solid var(--border);border-radius:14px;overflow:hidden}
  .row{display:grid;grid-template-columns:1fr auto;gap:10px;padding:10px 12px;border-top:1px solid var(--border)}
  .row:first-child{border-top:none}
  .row:hover{background:#0f172a}

  /* Pill nav inside ScriptBuilder */
  .pills{display:flex;flex-wrap:wrap;gap:8px}
  .pill{padding:.5rem .8rem;border-radius:10px;border:1px solid var(--border);background:#0f172a;cursor:pointer}
  .pill.active{background:var(--indigo-600);border-color:var(--indigo-600);color:#fff}
  .fields{display:grid;gap:12px}
  @media(min-width:860px){.fields-3{grid-template-columns:repeat(3,1fr)}}
  .label{font-size:12px;color:#cbd5e1;margin-bottom:4px;display:block}
  .input{width:100%;padding:.6rem .7rem;border-radius:10px;border:1px solid var(--border);background:#0b1226;color:var(--text);outline:none}
  
  /* Changelog collapsibles */
	details.chg {
	  border:1px solid var(--border);
	  border-radius:12px;
	  margin:10px 0;
	  background:#0b1226;
	}
	details.chg[open] { background:#0f172a; }
	details.chg > summary {
	  cursor:pointer;
	  list-style:none;
	  padding:10px 12px;
	  font-weight:600;
	}
	details.chg > summary::-webkit-details-marker { display:none; }
	details.chg > summary::after {
	  content:"▸"; float:right; transition:transform .15s ease;
	}
	details.chg[open] > summary::after { transform:rotate(90deg); }
	.chg-body { padding:10px 12px 12px; border-top:1px solid var(--border); }
	ul.tight { margin:0; padding-left:18px; }
	ul.tight > li { margin:4px 0; }
	
  /* Install page: make step images responsive & consistent */
	.install-step img {
	  display: block;
	  max-width: 100%;
	  height: auto;
	  border-radius: 12px;
	  border: 1px solid var(--border);
	  box-shadow: var(--shadow);
	  margin-top: 10px;
	}

/* ===== Consolidated from inline styles (index.html + install.html) ===== */

/* Header overrides used site‑wide */
header{ background-color:#000; } /* solid header */
header .container.nav{ align-items:center; padding:8px 0; }
header .brand{ text-decoration:none; gap:50px; } /* widen brand spacing */
header .logo{ background:none; padding:0; }
header .logo img{ height:68px; display:block; }
header .name{ font-weight:700; color:#fff; }
header .muted{ font-size:12px; color:#ccc; }

/* Hero (index) */
.hero .grid{ gap:22px; }
.hero p.muted{ margin-top:10px; }
.hero .container > div > div:nth-of-type(2){ display:flex; gap:10px; flex-wrap:wrap; margin-top:16px; }
.hero .container > div > p:last-of-type{ margin-top:10px; font-size:12px; }
.hero .container > div > p:last-of-type a{ text-decoration:underline; }

/* Feature cards + common card special */
.card h3{ margin:0 0 8px; }
.card .muted{ margin:0 0 12px; }
.card .btn{ margin-top:10px; }
#common.card{ border-color:#3b3ee0; background:linear-gradient(135deg,rgba(20,30,60,.45),rgba(10,18,44,.45)); }

/* Changelog tweaks */
.card h4.muted{ margin:10px 0 6px; }

/* Footer layout + icon spacing */
footer .container{ display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap; }
footer svg{ margin-right:6px; }

/* Dialog overlay bits moved from inline */
#palette .title .muted{ font-size:12px; }
#palette .list{ margin-top:10px; }
#cmdDialog .panel > div:first-child{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
#cmdTitle{ margin:0; }

/* Install page specific: spacing helpers that were inline */
.pills{ margin-top:8px; }
.install-step .muted{ margin-top:8px; }
.install-step .code + .code{ margin-top:8px; }

/* ========== From install.html <style> (relocated) ========== */

/* Code copy icon */
.code{ position:relative; padding-right:42px; }
.copy-icon{ position:absolute; top:8px; right:8px; width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center; border-radius:8px; border:1px solid var(--border); background:#0f172a; color:var(--text); cursor:pointer; opacity:.9; z-index:2 }
.copy-icon:hover{ opacity:1; background:#121a2e }
.copy-icon svg{ width:16px; height:16px; display:block }
.copy-icon.copied{ box-shadow:0 0 0 2px rgba(99,102,241,.35) inset }
.code pre, .code code{ position:relative; z-index:1 }

/* Click-to-expand images */
.gif-wrap{ position:relative }
.gif-wrap img{ 
  display:block; 
  max-width:100%; 
  height:auto; 
  border-radius:12px; 
  border:1px solid var(--border); 
  box-shadow:var(--shadow); 
  margin-top:10px; 
  position:relative; 
  z-index:1; 
  cursor: zoom-in; 
}

/* Lightbox */
body.noscroll{ overflow:hidden }
.lightbox:focus{ outline: none }
.lightbox .close:focus-visible{ outline:2px solid #6366f1; outline-offset:3px }
.lightbox{ position:fixed; inset:0; background:rgba(2,6,23,.92); backdrop-filter:blur(4px); display:none; align-items:center; justify-content:center; z-index:1000 }
.lightbox.open{ display:flex }
.lightbox img{ max-width:min(96vw,1200px); max-height:90vh; border-radius:14px; border:1px solid var(--border); box-shadow:var(--shadow) }
.lightbox .close{ position:absolute; top:14px; right:14px }

/* One look for all Version chips */
.tag-version {
  background: #1f2430;      /* dark slate (works on dark UI) */
  color: #e8edff;           /* soft light text */
  border-color: rgba(136,146,176,.35);
  font-weight: 600;
  letter-spacing: .2px;
}

/* Subcategory chip: outline + bucket tint */
.tag.tag-sub{
  background: transparent;
  color: #cfd4e0;                  /* neutral text */
  border-color: rgba(180,190,210,.35);
  font-weight: 500;
}

/* Tints by bucket */
.tag.tag-sub.is-pam{
  color:#cfd5ff;
  border-color:rgba(99,102,241,.35);      /* indigo */
}
.tag.tag-sub.is-identity{
  color:#b8fff1;
  border-color:rgba(34,197,194,.35);      /* teal */
}
.tag.tag-sub.is-sia{
  color:#ffe3a3;
  border-color:rgba(245,158,11,.35);      /* amber */
}
.tag.tag-sub.is-connector{
  color:#ffc4ef;
  border-color:rgba(236,72,153,.35);      /* fuchsia */
}


/* Toast */
#toast{
  position: fixed;
  left: 0; top: 0; right: auto; bottom: auto; /* JS sets left/top */
  width: 110px; height: 32px;                 /* STATIC size */
  display: flex; align-items: center; justify-content: center;
  background:#0f172a; color:var(--text);
  border:1px solid var(--border); border-radius:12px;
  padding: 0 8px; box-shadow: var(--shadow);
  opacity: 0; transform: translateX(-50%);    /* center X only */
  pointer-events: none; transition: opacity .15s ease;
  z-index: 1100;
}
#toast.show{ opacity: 1; }

/* ===== Equalize Automatic vs Manual install card rectangles ===== */
.install-page .card {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  width: 100%;
  border-radius: 16px; /* unify radius */
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  background: var(--card);
}

.install-page .card .card-body {
  padding: 18px;
}

.install-page .card img {
  display: block;
  max-width: 50%;
  height: auto;
  border-radius: 12px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  margin-top: 10px;
}

/* Equal-width columns for install page */
.install-page .grid-2{
  display:grid;
  grid-template-columns: 1fr;
  width: 100%;
}
.install-page .card{ width:100%; }

/* === Mobile clamp: prevent #gallery and #github cards from overflowing === */
@media (max-width: 860px){
  #gallery, #github{
    width: 100%;
    max-width: 100%;
    overflow: hidden;
  }
  #gallery *, #github *{
    max-width: 100%;
  }
}


/* Troubleshooting FAQ collapsibles */
details.faq {
  border:1px solid var(--border);
  border-radius:12px;
  margin:10px 0;
  background:#0b1226;
}
details.faq[open] { background:#0f172a; }
details.faq > summary {
  cursor:pointer;
  list-style:none;
  padding:10px 12px;
  font-weight:600;
}
details.faq > summary::-webkit-details-marker { display:none; }
details.faq > summary::after {
  content:"▸"; float:right; transition:transform .15s ease;
}
details.faq[open] > summary::after { transform:rotate(90deg); }
.faq-body { padding:10px 12px 12px; border-top:1px solid var(--border); }



/* === Mobile menu (hamburger) === */
.menu-toggle{
  display:flex; align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:10px;
  border:1px solid var(--border); background:#0f172a; color:var(--text);
  cursor:pointer; padding:0; margin-left:10px;
}
.menu-toggle:hover{ background:#121a2e }
.menu-toggle svg{ width:20px; height:20px; display:block }
@media(min-width:900px){ .menu-toggle{ display:none } }

/* Panel */
.mobilemenu{
  position:fixed; left:0; right:0; top:64px;
  background:#0b1226; border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  box-shadow: var(--shadow);
  display:none; z-index:55;
}
body.menu-open .mobilemenu{ display:block }
.mobilemenu .panel{ padding:12px }
.mobilemenu a{
  display:block; padding:12px; border-radius:10px; border:1px solid transparent;
}
.mobilemenu a:hover{ background:#121a2e; border-color:var(--border) }
.mobilemenu .row{ display:grid; grid-template-columns:1fr 1fr; gap:8px }
@media(max-width:520px){ .mobilemenu .row{ grid-template-columns:1fr } }

/* Prevent body scroll when menu is open (optional) */
body.menu-open{ overflow:hidden }


/* ===== Commands page (moved from commands.html) ===== */
.commands-page #setTabs .btn.btn-chip.is-active{
  background: linear-gradient(135deg, var(--indigo-600) 0%, var(--purple) 100%);
  color: #ffffff;
  border-color: transparent;
  box-shadow: 0 6px 16px rgba(79,70,229,.35), inset 0 0 0 1px rgba(255,255,255,.12);
  transform: translateY(-1px);
}
.commands-page #setTabs .btn.btn-chip.is-active:hover{ filter: brightness(1.03); }
.commands-page #setTabs .btn.btn-chip:focus-visible{ outline: 2px solid var(--indigo-500); outline-offset: 2px; }

/* Modal & sections */
.commands-page .modal-section{ margin-top:18px }
.commands-page .section-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
.commands-page .tabs{ display:flex; gap:6px; flex-wrap:wrap; }
.commands-page .tabs .tab{ border:1px solid var(--border); border-radius:999px; padding:.25rem .6rem; cursor:pointer; }
.commands-page .tabs .tab.active{ background:#0b1226; }
.commands-page .table-wrap{ overflow:auto; border:1px solid var(--border); border-radius:12px; }
.commands-page #paramTable{ width:100%; border-collapse:collapse; }
.commands-page #paramTable th, 
.commands-page #paramTable td{ padding:.5rem .6rem; border-bottom:1px solid var(--border); vertical-align:top; }

/* Sub-details & summary caret */
.commands-page .sub-details{ margin-top:8px; }
.commands-page .sub-details > summary{ padding-left:6px; }
.commands-page .sub-details .cmd-grid{ margin-top:8px; }

/* Hide native summary marker (ensure caret only) */
.commands-page details > summary { list-style: none; }
.commands-page summary::-webkit-details-marker { display: none; }
.commands-page summary::marker { display: none; content: ""; }
.commands-page summary { cursor: pointer; }

/* Search / toolbar layout on mobile */
@media (max-width: 860px){
  .commands-page .search{ display:flex !important; flex-wrap:wrap; gap:8px; align-items:center; width:100%; }
  .commands-page #searchInput{ flex:1 1 auto; min-width:0; order:1; }
  .commands-page #groupFilter{ order:2; width:100%; }
  .commands-page #clearBtn{ order:3; width:100%; }
  .commands-page .toolbar{ display:flex !important; flex-direction:column; gap:10px; }
  .commands-page .count-chip{ width:100%; text-align:center; }
}

/* Commands top toolbar and cards */
.commands-page .toolbar{ display:grid; grid-template-columns:1fr auto; gap:12px; align-items:center; }
.commands-page .search{ display:flex; gap:8px; align-items:center; }
.commands-page .search input{ width: min(560px, 100%); width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; background:#0b1226; color:var(--text); }
.commands-page .search .btn{ white-space:nowrap; }
.commands-page .count-chip{ font-size:12px; padding:2px 8px; border:1px solid var(--border); border-radius:999px; color:var(--muted); }
.commands-page .cat-summary{ display:flex; align-items:center; gap:8px; justify-content:space-between; }
.commands-page .cat-summary .left{ display:flex; align-items:center; gap:10px; }
.commands-page .cat-summary .right{ display:flex; align-items:center; gap:8px; }
.commands-page .caret{ width:14px; height:14px; transform:rotate(-90deg); transition:transform .2s ease; opacity:.75; }
.commands-page details[open] .caret{ transform:rotate(0deg); }
.commands-page .cmd-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:12px; }
.commands-page .cmd-card{ padding:14px; }
.commands-page .cmd-card h4{ margin:0 0 6px; font-size:16px; }
.commands-page .cmd-meta{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.commands-page .tag{ font-size:11px; padding:2px 8px; border:1px solid var(--border); border-radius:999px; color:var(--muted); }
.commands-page .cmd-actions{ display:flex; gap:8px; margin-top:8px; flex-wrap:wrap; }
.commands-page .permalink{ opacity:.75; }
.commands-page mark{ background:transparent; color:inherit; border-bottom:2px solid rgba(255,255,255,.15); }

/* Modal frame */
.commands-page .modal{ position:fixed; inset:0; display:none; align-items:flex-start; justify-content:center; background:rgba(0,0,0,.55); z-index:80; padding:48px 12px 24px }
.commands-page .modal.open{ display:flex }
.commands-page .modal-card{ background:#0b1226; border:1px solid var(--border); border-radius:16px; max-width:960px; width:100%; box-shadow:var(--shadow) }
.commands-page .modal-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:14px 16px; border-bottom:1px solid var(--border) }
.commands-page .modal-body{ padding:16px; display:grid; grid-template-columns:1fr; gap:14px; max-height:70vh; overflow:auto }
.commands-page .modal h3{ margin:0 }
.commands-page .muted-kicker{ font-size:12px; color:var(--muted) }
.commands-page .code{ font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background:#0f172a; border:1px solid var(--border); border-radius:10px; padding:10px; overflow:auto }
.commands-page .kv{ display:grid; grid-template-columns:180px 1fr; gap:8px }
@media(max-width:680px){ .commands-page .kv{ grid-template-columns:1fr } }
.commands-page .tbl{ width:100%; border-collapse:collapse }
.commands-page .tbl th, .commands-page .tbl td{ border-bottom:1px solid var(--border); padding:8px 6px; text-align:left; vertical-align:top }
.commands-page .tbl th{ font-size:12px; color:var(--muted) }
.commands-page .modal-actions{ display:flex; gap:8px; flex-wrap:wrap; align-items:center }
.commands-page .close{ border-radius:10px; border:1px solid var(--border); background:#0f172a; color:var(--text); padding:8px 10px; cursor:pointer }

/* Hide empty groups when searching */
.commands-page .group-empty{ display:none }

/* Right-align copy buttons in Examples and Output */
.commands-page #examples .card .card-head,
.commands-page #outputCards .card .card-head{
  display:flex;
  align-items:center;
  gap:8px;
}
.commands-page #examples .card .card-head > .btn,
.commands-page #outputCards .card .card-head > .btn{
  margin-left:auto;
}
@media (max-width: 640px) {
  .commands-page #examples .card .card-head,
  .commands-page #outputCards .card .card-head { flex-wrap: wrap; gap: 6px; }
  .commands-page #examples .card .card-head > .btn,
  .commands-page #outputCards .card .card-head > .btn { margin-left: 0; white-space: nowrap; }
}


/* === Modal header: title left, tags below title, actions right === */
.commands-page .modal-head{
  display:grid;
  grid-template-columns: 1fr auto;
  grid-template-areas:
    "left actions"
    "tags actions";
  align-items:center;
  gap:10px;
  padding:12px 16px;
}
.commands-page .modal-head .head-left{ 
  grid-area:left; 
  min-width:0; /* allow ellipsis */
}
.commands-page .modal-head #cmdTags{ 
  grid-area:tags; 
  margin-top:4px;
}
.commands-page .modal-head .modal-actions{ 
  grid-area:actions; 
  justify-self:end; 
  display:flex; 
  gap:8px; 
  flex-wrap:nowrap; 
}
/* Keep long command names on one line with ellipsis */
.commands-page #cmdTitle{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  max-width: 100%;
}

/* Responsive: stack actions below on narrow screens */
@media (max-width: 700px){
  .commands-page .modal-head{
    grid-template-columns: 1fr;
    grid-template-areas:
      "left"
      "tags"
      "actions";
  }
  .commands-page .modal-head .modal-actions{
    justify-self:start;
    flex-wrap:wrap;
  }
}

/* Clickable tag chips + active state */
.tag.tag-click{ cursor:pointer; user-select:none; }
.tag.tag-click:active{ transform: translateY(1px); }
.tag.tag-click.is-active{ outline:2px solid rgba(136,146,176,.45); }
#activeTagFilter{ display:flex; gap:6px; flex-wrap:wrap; }

/* Beta disclaimer banner */
.banner {
  display: flex; align-items: flex-start; gap: 12px;
  padding: 10px 12px; margin: 0 0 16px 0; border-radius: 10px;
}
.banner-warning {
  background: #1f1400;            /* dark amber background for dark UI */
  border: 1px solid #5f3b00;
  color: #ffdca3;
}
.banner-text { line-height: 1.35; }
.banner-close {
  background: transparent; border: 0; color: #ffdca3; cursor: pointer;
  font-size: 18px; line-height: 1; padding: 0 4px; opacity: 0.85;
}
.banner-close:hover { opacity: 1; }

/* Down-arrow caret on the command combobox button */
#cmdComboBtn {
  position: relative;
  padding-right: 28px;            /* room for the caret */
}

/* caret (triangle) */
#cmdComboBtn::after {
  content: "";
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);    /* vertically center */
  pointer-events: none;
  opacity: 0.85;

  /* triangle pointing down */
  width: 0; height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 7px solid currentColor;
}

/* flip caret when open */
#cmdComboBtn[aria-expanded="true"]::after {
  transform: translateY(-50%) rotate(180deg);
  opacity: 1;
}

/* optional: hover/focus polish */
#cmdComboBtn:hover::after,
#cmdComboBtn:focus-visible::after {
  opacity: 1;
}

/* Bigger, themed checkboxes for parameter fields only */
#paramForm input[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;              /* size */
  height: 20px;
  min-width: 20px;
  min-height: 20px;
  border-radius: 6px;
  background: #48494B;      /* match your dark background */
  border: 1.5px solid #1b2a3b;
  display: inline-grid;
  place-content: center;
  vertical-align: -3px;     /* aligns with label text nicely */
  cursor: pointer;
  transition: background-color .15s ease, border-color .15s ease, box-shadow .15s ease;
}

#paramForm input[type="checkbox"]:hover {
  border-color: #2a72c6;    /* subtle hover hint */
}

#paramForm input[type="checkbox"]:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(42,114,198,.45); /* accessible focus ring */
}

#paramForm input[type="checkbox"]:checked {
  background-color: #4f46e5;    /* blue fill when selected */
  /* white checkmark */
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23ffffff' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'>\
<path d='M3.5 8.5l3 3 6-6'/></svg>");
  background-repeat: no-repeat;
  background-position: center;
}

/* Optional: add a bit more spacing below each checkbox control */
#paramForm input[type="checkbox"] { margin-top: 6px; }

/* Themed checkboxes for AUTH EXTRAS (same look as param fields) */
#authExtras input[type="checkbox"],
#optNoSSL[type="checkbox"],
#optHideAscii[type="checkbox"],
#optCookie[type="checkbox"],
#optTextRec[type="checkbox"],
#optHideWarn[type="checkbox"] {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  min-width: 20px;
  min-height: 20px;
  border-radius: 6px;
  background: #48494B;        /* dark bg (unchecked) */
  border: 1.5px solid #1b2a3b;
  display: inline-grid;
  place-content: center;
  vertical-align: -3px;
  cursor: pointer;
  margin-right: 8px;          /* gap before label text */
  transition: background-color .15s ease, border-color .15s ease, box-shadow .15s ease;
}

#authExtras input[type="checkbox"]:hover,
#optNoSSL[type="checkbox"]:hover,
#optHideAscii[type="checkbox"]:hover,
#optCookie[type="checkbox"]:hover,
#optTextRec[type="checkbox"]:hover,
#optHideWarn[type="checkbox"]:hover {
  border-color: #2a72c6;
}

#authExtras input[type="checkbox"]:focus-visible,
#optNoSSL[type="checkbox"]:focus-visible,
#optHideAscii[type="checkbox"]:focus-visible,
#optCookie[type="checkbox"]:focus-visible,
#optTextRec[type="checkbox"]:focus-visible,
#optHideWarn[type="checkbox"]:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(42,114,198,.45);
}

#authExtras input[type="checkbox"]:checked,
#optNoSSL[type="checkbox"]:checked,
#optHideAscii[type="checkbox"]:checked,
#optCookie[type="checkbox"]:checked,
#optTextRec[type="checkbox"]:checked,
#optHideWarn[type="checkbox"]:checked {
  background-color: #4f46e5;  /* blue when selected */
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23ffffff' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'>\
<path d='M3.5 8.5l3 3 6-6'/></svg>");
  background-repeat: no-repeat;
  background-position: center;
}

/* ================= Theme toggle button ================= */
.theme-btn{
  display:flex; align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:10px;
  border:1px solid var(--border); background:#0f172a; color:var(--text);
  cursor:pointer; padding:0; margin-left:10px;
}
.theme-btn:hover{ background:#121a2e }
.theme-btn .i-moon{ display:none; }
.theme-light .theme-btn{ background:#f8f9ff; color:#4338ca; border-color:#e5e7eb; }
.theme-light .theme-btn:hover{ background:#eef2ff; }
.theme-light .theme-btn .i-sun{ display:none; }
.theme-light .theme-btn .i-moon{ display:block; }

/* ================= Light theme (SOFT) ================= */
/* Apply by adding .theme-light to <html> (your toggle already does this) */
.theme-light {
  /* softer canvas + neutrals */
  --bg: #f5f7fb;            /* page background (soft light gray/blue) */
  --slate-950: #f5f7fb;     /* your globals reference this */
  --card: #ffffff;          /* cards/surfaces still white for contrast */
  --border: #e6eaf2;        /* softer border */
  --text: #0b1226;          /* strong readable text */
  --muted: #52607a;         /* secondary text */
  /* accents stay purple/indigo */
  --indigo: #6366f1;
  --indigo-500: #6366f1;
  --indigo-600: #4f46e5;
  --purple: #a78bfa;
  --shadow: 0 10px 30px rgba(9,17,33,.08);
}

/* Canvas/text */
.theme-light html,
.theme-light body{
  background: var(--bg);
  color: var(--text);
}

/* Header: off-white bar (not pure white) */
.theme-light header{
  background: #f8fafc !important;
  border-bottom: 1px solid var(--border);
}

/* Brand text in header */
.theme-light header .name{ color:#0b1226; }
.theme-light header .muted{ color:#64748b; }

/* Cards / code / inputs */
.theme-light .card{ background:var(--card); border-color:var(--border); box-shadow:var(--shadow); }
.theme-light .code{ background:#f3f6fb; border-color:var(--border); }
.theme-light .input{ background:#ffffff; color:#0b1226; border-color:var(--border); }
.theme-light .btn{ background:#ffffff; color:#0b1226; border-color:var(--border); }
.theme-light .btn:hover{ background:#eef2ff; }
.theme-light .btn-ghost{ background:#f3f6fb; }
.theme-light .btn-chip{ background:#f3f6fb; }

/* Theme toggle button polish on light */
.theme-light .theme-btn{
  background:#f2f5ff;
  color:#4338ca;
  border-color:#e6eaf2;
}
.theme-light .theme-btn:hover{ background:#eaf0ff; }

/* Menus / dialogs */
.theme-light .mobilemenu{
  background:#ffffff;
  border-top-color:var(--border);
  border-bottom-color:var(--border);
}
.theme-light .mobilemenu a:hover{ background:#eef2ff; }

.theme-light .dialog .backdrop{ background:rgba(2,6,23,.40); }
.theme-light .dialog .panel{ background:#ffffff; border-color:var(--border); }

/* Details blocks */
.theme-light details.chg,
.theme-light details.faq{ background:#ffffff; border-color:var(--border); }
.theme-light details.chg[open],
.theme-light details.faq[open]{ background:#f3f6fb; }

/* Labels keep contrast */
.theme-light .label{ color:#334155; }

/* Gradient accent still pops on light */
.theme-light .gradient{
  background: linear-gradient(90deg,#5b6efc,#a78bfa);
  -webkit-background-clip:text; background-clip:text; color:transparent;
}

/* Light theme: make brand text readable on light header */
.theme-light header .brand,
.theme-light header .brand *,
.theme-light header .brand .name,
.theme-light header .brand strong {
  color: #0b1226 !important; /* deep slate */
}

/* If the mark is an inline SVG, force it to follow text color */
.theme-light header .brand svg,
.theme-light header .brand svg * {
  fill: currentColor !important;
  stroke: currentColor !important;
}

.theme-light .badge,
.theme-light .tag-version {
  background: #e9eef7;      /* soft light gray/blue */
  border-color: #c7cfdb;    /* subtle border */
  color: #0b1226;           /* deep slate text */
}
/* Header nav links */
.theme-light header .navlinks a:hover,
.theme-light nav a:hover {
  background: #e9edf5;            /* soft dark-gray/blue */
  color: #0b1226;
}

/* Primary/secondary buttons */
.theme-light .btn:hover,
.theme-light .btn:focus-visible {
  background: #e7ebf3;            /* darker than white, lighter than black */
  border-color: #d5dbe7;
  color: #0b1226;
}

/* Ghost/chip buttons & subtle controls */
.theme-light .btn-ghost:hover,
.theme-light .btn-chip:hover {
  background: #eef2f7;
  border-color: #dfe5ef;
}

/* Inputs on hover (optional, for parity) */
.theme-light .input:hover {
  border-color: #ccd4e2;
  background: #fbfcff;
}

/* Table/list rows, if you use .row:hover anywhere */
.theme-light .row:hover {
  background: #f0f3f8;
}

/* Generic chip/pill buttons */
.theme-light .btn.btn-chip,
.theme-light .pill {
  background: #e6ebf3;          /* soft dark gray */
  border-color: #d5dbe7;
  color: #0b1226;               /* deep slate text */
}
.theme-light .btn.btn-chip:hover,
.theme-light .pill:hover {
  background: #dfe5ef;          /* slightly darker on hover */
  border-color: #c7cfdb;
}

/* Parameter-set tabs (keep active pill readable & distinct) */
.theme-light #setTabs .btn.btn-chip.is-active {
  background: #e0e7ff;          /* light indigo tint */
  border-color: #c7d2fe;
  color: #1e3a8a;
}

/* Auth pills (Step 1) */
.theme-light #authPills .pill {
  background: #e6ebf3;
  border: 1px solid #d5dbe7;
  color: #0b1226;
}
.theme-light #authPills .pill[aria-pressed="true"] {
  background: #e0e7ff;
  border-color: #c7d2fe;
  color: #1e3a8a;
}

/* Light theme: copy icon + toast */
.theme-light .copy-icon{
  background:#f3f6fb;
  color:#0b1226;
  border-color:#e6eaf2;
}
.theme-light .copy-icon:hover{ background:#eaf0ff; }
.theme-light .copy-icon.copied{ box-shadow:0 0 0 2px rgba(79,70,229,.35) inset; }

.theme-light #toast{
  background:#ffffff;
  color:var(--text);        /* already #0b1226 in light theme */
  border-color:var(--border);
  box-shadow:var(--shadow);
}

/* Light theme: mobile menu toggle */
.theme-light .menu-toggle{
  background:#f8f9ff;
  color:#4338ca;          /* svg uses fill="currentColor" so it swaps too */
  border-color:#e6eaf2;
}
.theme-light .menu-toggle:hover{ background:#eef2ff; }
.theme-light .menu-toggle:focus-visible{
  outline:2px solid var(--indigo-500);
  outline-offset:2px;
}

/* Theme button base */
.theme-btn{
  display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px; border-radius:999px;
  background:#0f172a; color:#e5e7eb; border:1px solid #1f2937;
  cursor:pointer; transition:background .16s,color .16s,border-color .16s,box-shadow .16s;
}
.theme-btn:hover{ background:#111827; }
.theme-btn:focus-visible{ outline:2px solid var(--indigo-500); outline-offset:2px; }

/* Icon swap: dark shows moon, light shows sun */
.theme-btn .i-sun{ display:none; }
.theme-btn .i-moon{ display:inline; }
.theme-light .theme-btn{ background:#f8f9ff; color:#0b1226; border-color:#e6eaf2; }
.theme-light .theme-btn:hover{ background:#eef2ff; }
.theme-light .theme-btn .i-sun{ display:inline; }
.theme-light .theme-btn .i-moon{ display:none; }

/* (from earlier) light variants you wanted */
.theme-light .copy-icon{ background:#f3f6fb; color:#0b1226; border-color:#e6eaf2; }
.theme-light .copy-icon:hover{ background:#eaf0ff; }
.theme-light .copy-icon.copied{ box-shadow:0 0 0 2px rgba(79,70,229,.35) inset; }
.theme-light #toast{ background:#fff; color:var(--text); border-color:var(--border); box-shadow:var(--shadow); }
.theme-light .menu-toggle{ background:#f8f9ff; color:#4338ca; border-color:#e6eaf2; }
.theme-light .menu-toggle:hover{ background:#eef2ff; }

.theme-btn{
  display:inline-flex;align-items:center;justify-content:center;
  width:36px;height:36px;border-radius:999px;
  background:#0f172a;color:#e5e7eb;border:1px solid #1f2937;
  cursor:pointer;transition:background .16s,color .16s,border-color .16s,box-shadow .16s;
}
.theme-btn .i-sun{display:none;} .theme-btn .i-moon{display:inline;}
.theme-light .theme-btn{background:#f8f9ff;color:#0b1226;border-color:#e6eaf2;}
.theme-light .theme-btn:hover{background:#eef2ff;}
.theme-light .theme-btn .i-sun{display:inline;} .theme-light .theme-btn .i-moon{display:none;}

/* Light header overrides for Updates page (beats inline dark styles) */
.theme-light .updates-page header{ background:#ffffff !important; }
.theme-light .updates-page header .name{ color:#0b1226 !important; }
.theme-light .updates-page header .muted{ color:#606b85 !important; }

/* Mobile menu toggle (so the hamburger flips too) */
.theme-light .menu-toggle{ background:#f8f9ff; color:#4338ca; border-color:#e6eaf2; }
.theme-light .menu-toggle:hover{ background:#eef2ff; }

/* Changelog panels (details.chg) in light */
.theme-light details.chg{ background:#ffffff; border-color:#dfe5ef; }
.theme-light details.chg[open]{ background:#f7faff; }
.theme-light details.chg > summary:hover{ background:#eef2ff; }

.theme-btn{
  display:inline-flex;align-items:center;justify-content:center;
  width:36px;height:36px;border-radius:999px;
  background:#0f172a;color:#e5e7eb;border:1px solid #1f2937;
  cursor:pointer;transition:background .16s,color .16s,border-color .16s,box-shadow .16s;
}
.theme-btn .i-sun{display:none;} .theme-btn .i-moon{display:inline;}
.theme-light .theme-btn{background:#f8f9ff;color:#0b1226;border-color:#e6eaf2;}
.theme-light .theme-btn:hover{background:#eef2ff;}
.theme-light .theme-btn .i-sun{display:inline;} .theme-light .theme-btn .i-moon{display:none;}

/* Header (inline dark in the file) → force light */
.theme-light .commands-page header{ background:#ffffff !important; }
.theme-light .commands-page header .name{ color:#0b1226 !important; }
.theme-light .commands-page header .muted{ color:#606b85 !important; }

/* Hamburger toggle flips too */
.theme-light .menu-toggle{ background:#f8f9ff; color:#4338ca; border-color:#e6eaf2; }
.theme-light .menu-toggle:hover{ background:#eef2ff; }

/* Nice-to-have: modal & code blocks in light */
.theme-light .modal-card{ background:#ffffff; border-color:#e6eaf2; }
.theme-light pre.code{ background:#f8fafc; color:#0b1226; border:1px solid #e6eaf2; }

/* Tabs look lighter */
.theme-light .tabs button{ background:#f3f6fb; border-color:#e6eaf2; color:#0b1226; }
.theme-light .tabs button.active{ background:#eef2ff; border-color:#c7d2fe; color:#3730a3; }

/* Light theme: Commands modal "Close" button */
.theme-light .commands-page .close{
  background:#f3f6fb;
  color:#0b1226;
  border-color:#e6eaf2;
}
.theme-light .commands-page .close:hover{ background:#eaf0ff; }
.theme-light .commands-page .close:focus-visible{
  outline:2px solid var(--indigo-500);
  outline-offset:2px;
}

/* Light mode — make the whole search bar light */
.theme-light .commands-page .toolbar{
  align-items: stretch;
}

.theme-light .commands-page .search{
  background:#fff;                 /* light surface */
  border:1px solid var(--border);
  border-radius:12px;
  padding:8px;
  box-shadow:var(--shadow);
  display:flex;
  gap:8px;
}

/* Inputs in the pill */
.theme-light .commands-page .search input[type="search"],
.theme-light .commands-page .search select{
  background:#fff;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:10px;
}
.theme-light .commands-page .search input::placeholder{
  color:#8a96ab;
}

/* Count chip sits outside .search; lighten it too (if not already) */
.theme-light .commands-page .count-chip{
  background:#eef2f9;
  border:1px solid #d5dbe7;
  color:#0b1226;
}

/* Keep the toolbar items from stretching in light mode */
.theme-light .commands-page .toolbar{
  align-items: center;
}

/* Make the count chip a fixed-height pill in both themes */
.commands-page .count-chip{
  display:inline-flex;
  align-items:center;
  height:28px;              /* match your pill size */
  padding:0 10px;
  border-radius:999px;
  line-height:1;            /* avoid vertical bloat */
  box-sizing:border-box;    /* border included in height */
  align-self:center;        /* don't stretch in flex rows */
  white-space:nowrap;
}

/* If you have a small variant, keep it pill-shaped too */
.commands-page .count-chip.small{
  height:22px;
  padding:0 8px;
  border-radius:999px;
}

/* Base tag chip in light */
.theme-light .commands-page .tag{
  background:#f3f6fb;
  border-color:#dfe5ef;
  color:#0b1226;
}

/* Buckets (first chip) */
.theme-light .commands-page .tag-pam{        background:#e7e9ff; border-color:#c7cdfa; color:#1e2a78; }
.theme-light .commands-page .tag-identity{   background:#e6fffb; border-color:#baf3ef; color:#0b4f52; }
.theme-light .commands-page .tag-sia{        background:#fff2e0; border-color:#ffd8a8; color:#7a4100; }
.theme-light .commands-page .tag-connector{  background:#ffe6f5; border-color:#f7c2e6; color:#7a144f; }

/* Custom tags */
.theme-light .commands-page .tag-sharedservices{ background:#e7f7ee; border-color:#c7ebd5; color:#164a2d; }
.theme-light .commands-page .tag-selfhosted{     background:#e6f4ff; border-color:#c7e2ff; color:#113a59; }
.theme-light .commands-page .tag-privcloud{      background:#fff5e6; border-color:#ffe3ad; color:#5b3a0d; }

/* Clickable/active state */
.theme-light .commands-page .tag.tag-click.is-active{
  background:#e0e7ff; border-color:#c7d2fe; color:#1e3a8a; outline-color:rgba(79,70,229,.35);
}

/* Light mode: checked state = same indigo as dark, with white check */
.theme-light .scriptbuilder-page input[type="checkbox"]:checked{
  background:#4338ca;              /* indigo-600 */
  border-color:#4338ca;
  color:#fff;
  background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\
  <path fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" d="M5 10.5l3 3 7-7"/>\
</svg>');
  background-repeat:no-repeat;
  background-position:center;
  background-size:14px 14px;
}

.theme-light .scriptbuilder-page input[type="checkbox"]:checked:hover{
  background:#4f46e5;              /* indigo-500 hover */
  border-color:#4f46e5;
}

.theme-light .scriptbuilder-page input[type="checkbox"]:checked:focus-visible{
  outline:none;
  box-shadow:0 0 0 3px rgba(99,102,241,.35);
}

/* Optional: indeterminate state (if you use it) */
.theme-light .scriptbuilder-page input[type="checkbox"]:indeterminate{
  background:#4338ca;
  border-color:#4338ca;
  background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\
  <rect x="5" y="9" width="10" height="2" rx="1" ry="1" fill="white"/>\
</svg>');
  background-repeat:no-repeat;
  background-position:center;
  background-size:12px 12px;
}

/* Theme button (shared) */
.theme-btn{
  display:inline-flex;align-items:center;justify-content:center;
  width:36px;height:36px;border-radius:999px;
  background:#0f172a;color:#e5e7eb;border:1px solid #1f2937;
  cursor:pointer;transition:background .16s,color .16s,border-color .16s,box-shadow .16s;
}
.theme-btn .i-sun{display:none;} .theme-btn .i-moon{display:inline;}
.theme-light .theme-btn{background:#f8f9ff;color:#0b1226;border-color:#e6eaf2;}
.theme-light .theme-btn:hover{background:#eef2ff;}
.theme-light .theme-btn .i-sun{display:inline;} .theme-light .theme-btn .i-moon{display:none;}

/* ScriptBuilder header + hamburger in light */
.theme-light .scriptbuilder-page header{ background:#ffffff !important; }
.theme-light .scriptbuilder-page header .name{ color:#0b1226 !important; }
.theme-light .scriptbuilder-page header .muted{ color:#606b85 !important; }
.theme-light .menu-toggle{ background:#f8f9ff; color:#4338ca; border-color:#e6eaf2; }
.theme-light .menu-toggle:hover{ background:#eef2ff; }

/* Pills (auth selectors, set tabs, etc.) — dark code uses white text, so flip to pastels in light */
.theme-light .scriptbuilder-page .pills .pill,
.theme-light .scriptbuilder-page .pills-row .pill{
  background:#f3f6fb;
  border:1px solid #e6eaf2;
  color:#0b1226;
}
.theme-light .scriptbuilder-page .pill[aria-pressed="true"]{
  background:#e0e7ff;           /* active */
  border-color:#c7d2fe;
  color:#1e3a8a;
}

/* Parameter-set chips (Set Tabs) */
.theme-light #setTabs .btn.btn-chip{
  background:#f3f6fb;
  border:1px solid #e6eaf2;
  color:#0b1226;
}
.theme-light #setTabs .btn.btn-chip.is-active{
  background:#e0e7ff;
  border-color:#c7d2fe;
  color:#1e3a8a;
  box-shadow:0 0 0 1px #c7d2fe inset;
}

/* Command combo panel (search dropdown) */
.theme-light .combo-panel{
  background:#ffffff;
  border:1px solid #dfe5ef;
  box-shadow:0 8px 24px rgba(9,17,33,.15);
}
.theme-light #cmdComboList li{ color:#0b1226; }
.theme-light #cmdComboList li:hover,
.theme-light #cmdComboList li.active{
  background:#eef2ff;
  color:#1e3a8a;
}

/* Inputs/fields in the auth area */
.theme-light .scriptbuilder-page input,
.theme-light .scriptbuilder-page select,
.theme-light .scriptbuilder-page textarea{
  background:#ffffff;
  color:var(--text);
  border:1px solid var(--border);
}

/* Cards & code blocks */
.theme-light .scriptbuilder-page .card{ background:#ffffff; border-color:#e6eaf2; }
.theme-light .scriptbuilder-page .card .muted{ color:#606b85; }
.theme-light .scriptbuilder-page pre,
.theme-light .scriptbuilder-page .code{
  background:#f8fafc;
  color:#0b1226;
  border:1px solid #e6eaf2;
}

/* Light mode: all custom checkboxes (auth extras + parameter form) */
.theme-light #paramForm input[type="checkbox"],
.theme-light #authExtras input[type="checkbox"],
.theme-light #optNoSSL[type="checkbox"],
.theme-light #optHideAscii[type="checkbox"],
.theme-light #optCookie[type="checkbox"],
.theme-light #optTextRec[type="checkbox"],
.theme-light #optHideWarn[type="checkbox"]{
  background:#ffffff;
  border-color: var(--border);
  box-shadow: inset 0 1px 0 rgba(9,17,33,.04);
}

.theme-light #paramForm input[type="checkbox"]:hover,
.theme-light #authExtras input[type="checkbox"]:hover,
.theme-light #optNoSSL[type="checkbox"]:hover,
.theme-light #optHideAscii[type="checkbox"]:hover,
.theme-light #optCookie[type="checkbox"]:hover,
.theme-light #optTextRec[type="checkbox"]:hover,
.theme-light #optHideWarn[type="checkbox"]:hover{
  background:#f3f6fb;
  border-color:#c7d2fe; /* subtle indigo hint */
}

.theme-light #paramForm input[type="checkbox"]:focus-visible,
.theme-light #authExtras input[type="checkbox"]:focus-visible,
.theme-light #optNoSSL[type="checkbox"]:focus-visible,
.theme-light #optHideAscii[type="checkbox"]:focus-visible,
.theme-light #optCookie[type="checkbox"]:focus-visible,
.theme-light #optTextRec[type="checkbox"]:focus-visible,
.theme-light #optHideWarn[type="checkbox"]:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(99,102,241,.35); /* light-friendly focus ring */
}

/* Optional: disabled state reads as disabled on light */
.theme-light #paramForm input[type="checkbox"]:disabled,
.theme-light #authExtras input[type="checkbox"]:disabled{
  background:#eef2f7;
  border-color:#e6eaf2;
  cursor:not-allowed;
  opacity:.75;
}

/* Light mode: all custom checkboxes (UN-checked only) */
.theme-light #paramForm input[type="checkbox"]:not(:checked),
.theme-light #authExtras input[type="checkbox"]:not(:checked),
.theme-light #optNoSSL[type="checkbox"]:not(:checked),
.theme-light #optHideAscii[type="checkbox"]:not(:checked),
.theme-light #optCookie[type="checkbox"]:not(:checked),
.theme-light #optTextRec[type="checkbox"]:not(:checked),
.theme-light #optHideWarn[type="checkbox"]:not(:checked){
  background:#ffffff;
  border-color: var(--border);
  box-shadow: inset 0 1px 0 rgba(9,17,33,.04);
}

/* Light mode: checked = indigo with white check (same as dark) */
.theme-light #paramForm input[type="checkbox"]:checked,
.theme-light #authExtras input[type="checkbox"]:checked,
.theme-light #optNoSSL[type="checkbox"]:checked,
.theme-light #optHideAscii[type="checkbox"]:checked,
.theme-light #optCookie[type="checkbox"]:checked,
.theme-light #optTextRec[type="checkbox"]:checked,
.theme-light #optHideWarn[type="checkbox"]:checked{
  background-color:#4f46e5;        /* indigo-600 */
  border-color:#4f46e5;
  background-image:url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='none' stroke='%23ffffff' stroke-width='2.2' stroke-linecap='round' stroke-linejoin='round'>\
<path d='M3.5 8.5l3 3 6-6'/></svg>");
  background-repeat:no-repeat;
  background-position:center;
}

/* Light mode: make AUTH pills (top row) darker when NOT selected */
.theme-light .scriptbuilder-page #authPills .pill{
  background:#c7d2e6;         /* darker slate-blue */
  border:1px solid #aebcd2;   /* stronger outline */
  color:#0b1226;
}
.theme-light .scriptbuilder-page #authPills .pill:hover{
  background:#bfcae0;
  border-color:#a3b2c9;
}

.theme-light #authPills .pill{
  background:#c7d2e6;        /* darker base */
  border:1px solid #aebcd2;
  color:#0b1226;
}
.theme-light #authPills .pill:hover{
  background:#bfcae0;
  border-color:#a3b2c9;
}

/* Active stays blue in light mode (wins over the pastel rule) */
.theme-light #authPills .pill[aria-pressed="true"]{
  background:var(--indigo-600);
  border-color:var(--indigo-600);
  color:#fff;
  box-shadow:0 0 0 1px #1c58a1 inset; /* optional, matches other actives */
}

/* Light mode: friendlier warning banner */
.theme-light .banner-warning{
  background:#fff7e6;          /* soft amber */
  border:1px solid #f3d19e;
  color:#5a3a00;               /* readable on light */
  box-shadow:var(--shadow);    /* optional: subtle lift */
}
.theme-light .banner-warning .banner-text strong{ color:#7a4100; }
.theme-light .banner-warning a{ color:#7a4100; text-decoration:underline; }

/* Close “x” matches the lighter amber */
.theme-light .banner-close{
  color:#7a4100;
}
.theme-light .banner-close:hover{
  color:#5a2f00;
  opacity:1;
}

/* (If needed) Theme button */
.theme-btn{
  display:inline-flex;align-items:center;justify-content:center;
  width:36px;height:36px;border-radius:999px;
  background:#0f172a;color:#e5e7eb;border:1px solid #1f2937;
  cursor:pointer;transition:background .16s,color .16s,border-color .16s,box-shadow .16s;
}
.theme-btn .i-sun{display:none;} .theme-btn .i-moon{display:inline;}
.theme-light .theme-btn{background:#f8f9ff;color:#0b1226;border-color:#e6eaf2;}
.theme-light .theme-btn:hover{background:#eef2ff;}
.theme-light .theme-btn .i-sun{display:inline;} .theme-light .theme-btn .i-moon{display:none;}

/* Common page header (beats inline dark header styles) */
.theme-light .common-page header{ background:#ffffff !important; }
.theme-light .common-page header .name{ color:#0b1226 !important; }
.theme-light .common-page header .muted{ color:#606b85 !important; }

/* Mobile menu toggle flips in light */
.theme-light .menu-toggle{ background:#f8f9ff; color:#4338ca; border-color:#e6eaf2; }
.theme-light .menu-toggle:hover{ background:#eef2ff; }

/* Mobile menu panel on light */
.theme-light .mobilemenu .panel{ background:#ffffff; border-color:#dfe5ef; }

/* Optional: footer chips look consistent on light */
.theme-light footer .btn.btn-chip{ background:#f3f6fb; border-color:#e6eaf2; color:#0b1226; }
.theme-light footer .btn.btn-chip:hover{ background:#eaf0ff; }